{"ast":null,"code":"import { createAction, createReducer } from '@reduxjs/toolkit';\nimport { initalPostList } from '../constants/blog';\nconst initialState = {\n  postList: initalPostList,\n  editPost: null\n};\nexport const addPost = createAction('blog/addPost');\nexport const deletePost = createAction('blog/deletePost');\nexport const editPost = createAction('blog/editPost');\nexport const updatePost = createAction('blog/updatePost');\nexport const cancelUpdatePost = createAction('blog/cancelUpdatePost');\n\n// builder callback\n// const blogReducer = createReducer(initialState, (builder) => {\n//     builder\n//         .addCase(addPost, (state, action) => {\n//             const post = action.payload;\n//             state.postList.push(post)\n\n//         })\n//         .addCase(deletePost, (state, action) => {\n//             const postID = action.payload;\n//             const findIndexPost = state.postList.findIndex((post) => post.id === postID);\n//             console.log(findIndexPost)\n//             if(findIndexPost !== -1) {\n//                 state.postList.splice(findIndexPost, 1)\n//             }\n//         })\n//         .addCase(editPost, (state, action) => {\n//             const postID = action.payload.id;\n//             const findIndexPost = state.postList.findIndex((post) => post.id === postID);\n//             if(findIndexPost !== -1) {\n//                 state.editPost = action.payload\n//             }\n//         })\n//         .addCase(updatePost, (state, action) => {\n//             const postID = action.payload.id;\n//             state.postList.some((post, index) => {\n//                 if(post.id === postID) {\n//                     state.postList[index] = action.payload;\n//                 }\n//                 return false\n//             });\n//         })\n//         .addCase(cancelUpdatePost, (state) => {\n//             state.editPost = null\n//         })\n//         .addMatcher((action) => (action.type as string).includes('cancel') , (state, action) => {\n//             console.log(current(state))\n//         })\n// })\n\n// Map Object ==> \nconst blogReducer = createReducer(initialState, {\n  [addPost.type]: (state, action) => {\n    const post = action.payload;\n    state.postList.push(post);\n  },\n  [deletePost.type]: (state, action) => {\n    const postID = action.payload;\n    const findIndexPost = state.postList.findIndex(post => post.id === postID);\n    console.log(findIndexPost);\n    if (findIndexPost !== -1) {\n      state.postList.splice(findIndexPost, 1);\n    }\n  },\n  [editPost.type]: (state, action) => {\n    const postID = action.payload.id;\n    const findIndexPost = state.postList.findIndex(post => post.id === postID);\n    if (findIndexPost !== -1) {\n      state.editPost = action.payload;\n    }\n  },\n  [updatePost.type]: (state, action) => {\n    const postID = action.payload.id;\n    state.postList.some((post, index) => {\n      if (post.id === postID) {\n        state.postList[index] = action.payload;\n      }\n      return false;\n    });\n  },\n  [cancelUpdatePost.type]: state => {\n    state.editPost = null;\n  }\n}, [{\n  matcher: state => {}\n}], state => {\n  console.log('state');\n});\nexport default blogReducer;","map":{"version":3,"names":["createAction","createReducer","initalPostList","initialState","postList","editPost","addPost","deletePost","updatePost","cancelUpdatePost","blogReducer","type","state","action","post","payload","push","postID","findIndexPost","findIndex","id","console","log","splice","some","index","matcher"],"sources":["/home/quynhanh/Documents/redux-toolkit/old-local-blog/src/page/blog.reducer.ts"],"sourcesContent":["import { createAction, createReducer, current, PayloadAction } from '@reduxjs/toolkit'\nimport { Post } from '../types/blog.type'\nimport { initalPostList } from '../constants/blog'\nimport { match } from 'node:assert'\n\ninterface initialStateType {\n    postList: Post[] \n    editPost: Post | null\n}\n\nconst initialState: initialStateType = {\n    postList: initalPostList,\n    editPost: null\n}\n\nexport const addPost = createAction<Post>('blog/addPost');\n\nexport const deletePost = createAction<string>('blog/deletePost');\n\nexport const editPost = createAction<Post>('blog/editPost');\n\nexport const updatePost = createAction<Post>('blog/updatePost');\n\nexport const cancelUpdatePost = createAction('blog/cancelUpdatePost');\n\n\n// builder callback\n// const blogReducer = createReducer(initialState, (builder) => {\n//     builder\n//         .addCase(addPost, (state, action) => {\n//             const post = action.payload;\n//             state.postList.push(post)\n\n//         })\n//         .addCase(deletePost, (state, action) => {\n//             const postID = action.payload;\n//             const findIndexPost = state.postList.findIndex((post) => post.id === postID);\n//             console.log(findIndexPost)\n//             if(findIndexPost !== -1) {\n//                 state.postList.splice(findIndexPost, 1)\n//             }\n//         })\n//         .addCase(editPost, (state, action) => {\n//             const postID = action.payload.id;\n//             const findIndexPost = state.postList.findIndex((post) => post.id === postID);\n//             if(findIndexPost !== -1) {\n//                 state.editPost = action.payload\n//             }\n//         })\n//         .addCase(updatePost, (state, action) => {\n//             const postID = action.payload.id;\n//             state.postList.some((post, index) => {\n//                 if(post.id === postID) {\n//                     state.postList[index] = action.payload;\n//                 }\n//                 return false\n//             });\n//         })\n//         .addCase(cancelUpdatePost, (state) => {\n//             state.editPost = null\n//         })\n//         .addMatcher((action) => (action.type as string).includes('cancel') , (state, action) => {\n//             console.log(current(state))\n//         })\n// })\n\n\n// Map Object ==> \nconst blogReducer = createReducer(initialState, {\n        [addPost.type]: (state, action: PayloadAction) => {\n            const post = action.payload;\n            state.postList.push(post)\n        },\n\n        [deletePost.type]: (state, action) => {\n            const postID = action.payload;\n            const findIndexPost = state.postList.findIndex((post) => post.id === postID);\n            console.log(findIndexPost)\n            if(findIndexPost !== -1) {\n                state.postList.splice(findIndexPost, 1)\n            }\n        },\n\n        [editPost.type]: (state, action) => {\n            const postID = action.payload.id;\n            const findIndexPost = state.postList.findIndex((post) => post.id === postID);\n            if(findIndexPost !== -1) {\n                state.editPost = action.payload\n            }\n        },\n        [updatePost.type]: (state, action) => {\n            const postID = action.payload.id;\n            state.postList.some((post, index) => {\n                if(post.id === postID) {\n                    state.postList[index] = action.payload;\n                }\n                return false\n            });\n        },\n        [cancelUpdatePost.type]: (state) => {\n            state.editPost = null\n        },\n    },\n    [\n        {\n            matcher: (state) => {\n\n            }\n        }\n    ],\n    (state) => {\n        console.log('state')\n    }\n);\n\nexport default blogReducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}